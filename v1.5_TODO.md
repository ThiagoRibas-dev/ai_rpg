# v1.5 UI Redesign TODO List

## Phase 1: Restructure the Main Window
<!-- Relevant Docs: [UI](docs/ui.md), [System Architecture](docs/architecture.md#GUI-customtkinter) -->
- [x] **Update Main Window Layout:**
  - [x] Modify `app/gui/main_view.py` to use a two-panel layout.
  - [x] The left/center panel will be for the chat history and user input.
  - [x] The right panel will be the control panel.
- [x] **Create Placeholder Frames:**
  - [x] Implement `ctk.CTkFrame` for the main panel and the control panel.
  - [x] Ensure the panels are correctly proportioned and resize with the window.

## Phase 2: Implement the Control Panel
<!-- Inspired by: https://github.com/lmg-anon/mikupad -->
- [x] **Game Session Management:**
  - [x] Create a collapsible section for session management.
  - [x] Implement a listbox or similar widget to display saved game sessions.
  - [x] Add "New Game", "Load Game", and "Save Game" buttons.
- [x] **Prompt Management:**
  - [x] Create a collapsible section for prompt management.
  - [x] Implement a dropdown or listbox to select the active prompt.
  - [x] Add buttons to open a new prompt management window (reusing/refactoring `PromptManagerView`).
- [x] **LLM Parameters:**
  - [x] Create a collapsible section for LLM parameters.
  - [x] Add a dropdown to select the LLM provider.
  - [x] Implement sliders for `temperature` and `top_p`.
- [x] **Game State Inspector:**
  - [x] Create a collapsible section for the game state inspector.
  - [x] Implement a tabbed view for "Characters", "Inventory", "Quests", etc. (initially with placeholder content).

## Phase 3: Implement the Main Panel
- [x] **Chat History:**
  - [x] Replace the existing `CTkTextbox` with a more advanced widget that can handle formatted text and images, if necessary.
  - [x] Ensure proper scrolling and that the top of the text is not cut off.
- [x] **User Input:**
  - [x] Redesign the user input area with a `CTkTextbox` for multi-line input.
  - [x] Add "Send" and "Stop/Cancel" buttons.

## Phase 4: Integrate Logic and Refine
- [x] **Connect UI to Backend:**
  - [x] Wire up all the buttons and controls in the new UI to the existing backend logic in the orchestrator.
  - [x] Ensure the new UI correctly handles creating, loading, and saving games.
  - [x] Make sure the prompt selection and LLM parameter controls update the game session.
- [x] **Refine and Polish:**
  - [x] Apply styling to match the `mikupad` aesthetic (dark theme, clean layout).
  - [x] Ensure the UI is responsive and user-friendly.
  - [x] Test the application thoroughly to identify and fix any bugs.