# v2.1 UI - Tool Event Display

This plan outlines the steps to implement a UI feature for displaying tool events, based on the architect's design.

## Phase 1: UI Changes (`app/gui/main_view.py`)
- [x] **Add "Tool Events" Tab:** In the `_create_game_state_inspector` method, add a new tab named "Tool Events" to the `CTkTabview`.
- [x] **Add Text Widget:** Place a `customtkinter.CTkTextbox` inside the new tab to display the log of tool events. Make it read-only.
- [x] **Create Public Method:** Implement a new public method, `log_tool_event(self, message: str)`, that appends the formatted message to the textbox and ensures it scrolls to the end.

## Phase 2: Backend Logic (`app/core/orchestrator.py`)
- [x] **Implement Callback:** Add a `tool_event_callback` attribute to the `Orchestrator`'s `__init__` method, initialized to `None`. This will hold a reference to the UI's logging method.
- [x] **Emit Events:** In the main turn loop where tool calls are processed, invoke the `tool_event_callback` if it's not `None`.
  - Before executing a tool, call it with a message like `f"Calling tool: {tool_name} with args: {args}"`.
  - After executing a tool, call it with a message like `f"Tool {tool_name} returned: {result}"`.

## Phase 3: Integration (`main.py`)
- [x] **Connect Callback:** In the `main` function or class where the `Orchestrator` and `MainView` are instantiated, set the orchestrator's callback to the view's logging method.
  - Example: `orchestrator.tool_event_callback = main_view.log_tool_event`

## Phase 4: Finalization
- [x] **Update `v2_TODO.md`:** Mark the final task as complete.
- [x] **Update `docs/ui.md`:** Add a description of the new "Tool Events" tab in the "Game State Inspector" section.